/*! mwt.min.js v2.6.0 | (c) 2013-2015,mawentao | release:2015-12-29 16:36:47 */
function hide(e){document.getElementById(e).style.display="none"}function display(e){document.getElementById(e).style.display="block"}function time(){var e=new Date;var t=e.getTime()/1e3;return Math.ceil(t)}function date(e,t){var i=new Date;if(t)i=new Date(t*1e3);var a={"Y+":i.getFullYear(),"m+":i.getMonth()+1,"d+":i.getDate(),"H+":i.getHours(),"i+":i.getMinutes(),"s+":i.getSeconds()};for(var s in a){if(new RegExp("("+s+")").test(e)){var r=a[s]+"";if(r.length==1)r="0"+r;e=e.replace(RegExp.$1,r)}}return e}function json2str(e,t){var i="";t||(t=1);var a=new Array(4*(t-1)).join(" ");var s=new Array(4*t).join(" ");var r="";var n=typeof e;switch(n){case"string":case"number":case"boolean":case"undefined":case"function":r+=e;break;case"object":default:for(var l in e){r+=s+"["+l+"] = ";r+=json2str(e[l],t+1)}}if(n=="object"){i+=n+"\n";i+=a+"("+"\n";i+=r;i+=a+")"+"\n"}else{i+=n+"("+r+")\n"}return i}function print_r(e){alert(json2str(e))}function get_html(e){return document.getElementById(e).innerHTML}function get_value(e){var t=document.getElementById(e);return t.value.trim()}function get_int_value(e,t){var i=document.getElementById(e);var a=parseInt(i.value);if(isNaN(a)){i.value=t;a=t}return a}function get_text_value(e){var t=document.getElementById(e);var i=t.value.trim();if(i==""){t.value="";t.focus();throw new Error(e+" is empty")}return i}function get_textarea_values(e){var t=get_text_value(e);var i=t.split("\n");var a=[];for(var s=0;s<i.length;++s){var r=i[s].trim();if(r==""){continue}r=encodeURIComponent(r);a.push(r)}return a}function get_radio_value(e){var t=document.getElementsByName(e);var i;for(var a=0;a<t.length;a=a+1){if(t[a].checked==true){i=t[a].value;break}}return i}function get_select_value(e){var t=document.getElementById(e);return t.options[t.selectedIndex].value}function get_checkbox_values(e){var t=[];var i=document.getElementsByName(e);for(var a=0;a<i.length;++a){if(i[a].checked){t.push(i[a].value)}}return t}function set_html(e,t){document.getElementById(e).innerHTML=t}function set_value(e,t){document.getElementById(e).value=t}function set_select_value(e,t){var i=document.getElementById(e);for(var a=0;a<i.options.length;a=a+1){if(i.options[a].value==t){i.options[a].selected=true;break}}}function set_radio_value(e,t){var i=document.getElementsByName(e);for(var a=0;a<i.length;++a){if(i[a].value==t){i[a].checked=true;return}}}function set_checkbox_checked(e,t){var i=document.getElementsByName(e);for(var a=0;a<i.length;++a){i[a].checked=t}}function set_checkbox_values(e,t){var i=document.getElementsByName(e);for(var a=0;a<i.length;++a){var s=false;for(var r=0;r<t.length;++r){if(t[r]==i[a].value){s=true;break}}i[a].checked=s}}Array.prototype.remove=function(e){if(isNaN(e)||e>this.length){return false}for(var t=0,i=0;t<this.length;t++){if(this[t]!=this[e]){this[i++]=this[t]}}this.length-=1};String.prototype.startWith=function(str,ignoreCase){var reg=eval("/^"+str+"/");if(ignoreCase)reg=eval("/^"+str+"/i");return reg.test(this)};String.prototype.startwith=function(str,ignoreCase){var reg=eval("/^"+str+"/");if(ignoreCase)reg=eval("/^"+str+"/i");return reg.test(this)};String.prototype.endWith=function(str,ignoreCase){var reg=eval("/"+str+"$/");if(ignoreCase)reg=eval("/"+str+"$/i");return reg.test(this)};String.prototype.endwith=function(str,ignoreCase){var reg=eval("/"+str+"$/");if(ignoreCase)reg=eval("/"+str+"$/i");return reg.test(this)};String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};Date.prototype.format=function(e){var t=this.getFullYear();var i=this.getMonth()+1;if(i<10)i="0"+i;var a=this.getDate();if(a<10)a="0"+a;var s=this.getHours();if(s<10)s="0"+s;var r=this.getMinutes();if(r<10)r="0"+r;var n=this.getSeconds();if(n<10)n="0"+n;return e.replace(/Y/g,t).replace(/m/g,i).replace(/d/g,a).replace(/H/g,s).replace(/i/g,r).replace(/s/g,n)};function is_number(e){var t=/^[0-9]+$/;return t.test(e)}function is_decimal(e){var t=/^[0-9]+[\.]{0,1}[0-9]*$/;return t.test(e)}function is_phone(e){var t=/^1[0-9]{10}$/;return t.test(e)}function is_email(e){var t=/^[\w\-_\.]+@[\w\-_\.]+\.\w+$/;return t.test(e)}function is_url(e){var t="^((https|http|ftp|rtsp|mms)?://)"+"(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?"+"(([0-9]{1,3}.){3}[0-9]{1,3}"+"|"+"([0-9a-z_!~*'()-]+.)*"+"([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]."+"[a-z]{2,6})"+"(:[0-9]{1,4})?"+"((/?)|"+"(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$";var i=new RegExp(t,"i");return i.test(e)}function implode(e,t){var i="";var a="";for(var s=0;s<t.length;++s){i+=a+t[s];a=e}return i}function in_array(e,t){var i=t.length;for(var a=0;a<i;++a)if(t[a]==e)return true;return false}function isset(e){return typeof e!="undefined"}function array_keys(e){var t=[];for(var i in e)t.push(i);return t}function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function addClass(e,t){if(!this.hasClass(e,t))e.className+=" "+t}function removeClass(e,t){if(hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i,"")}}var MWT={};MWT.show_loading_num=0;MWT.get_msgdivid=function(){var e="mwt-loading-div";var t=document.getElementById(e);if(!t){var i=document.createElement("div");i.id=e;document.body.appendChild(i)}return e};MWT.show_loading=function(e){var t=MWT.get_msgdivid();++MWT.show_loading_num;if(!e){e="<div class='loading'>正在传输数据，请稍候...</div>"}jQuery("#"+t).html(e);jQuery("#"+t).fadeIn("fast")};MWT.hide_loading=function(){--MWT.show_loading_num;var e="mwt-loading-div";var t=document.getElementById(e);if(t){if(MWT.show_loading_num<=0){jQuery("#"+e).fadeOut("slow")}}};MWT.flash_msg=function(e,t){if(!e)return;var i=MWT.get_msgdivid();var a="<div class='"+t+"'>"+e+"</div>";jQuery("#"+i).html(a);jQuery("#"+i).fadeIn("fast");setTimeout(function(){jQuery("#"+i).fadeOut("slow")},1500)};MWT.flash_danger=function(e){MWT.flash_msg(e,"danger")};MWT.flash_warning=function(e){MWT.flash_msg(e,"warning")};MWT.flash_info=function(e){MWT.flash_msg(e,"info")};MWT.flash_success=function(e){MWT.flash_msg(e,"success")};MWT.extends=function(e,t){e.prototype=new t};MWT.Event=function(){this.listeners={};this.addListener=function(e,t){if(!this.listeners[e]){this.listeners[e]=[]}for(var i=0;i<this.listeners[e].length;++i){if(t==this.listeners[e][i])return}this.listeners[e].push(t)};this.on=function(e,t){this.addListener(e,t)};this.fireon=function(e,t){this.addListener(e,t);t.call(t,this)};this.removeListener=function(e,t){if(!this.listeners[e]){return}var i=this.listeners[e];for(var a=0;a<i.length;++a){if(i[a]==t){i.remove(a);return}}};this.un=function(e,t){this.removeListener(e,t)};this.removeAllListeners=function(e){delete this.listeners[e]};this.unall=function(e){this.removeAllListeners(e)};this.fireEvent=function(e){if(!this.listeners[e]){return}var t=this.listeners[e];for(var i=0;i<t.length;++i){var a=t[i];a.call(a,this)}};this.fire=function(e){this.fireEvent(e)}};MWT.Store=function(e){this.listeners={};this.url="";this.baseParams={};this.totalProperty=0;this.root=[];this.annex={};if(e){if(e.url)this.url=e.url}this.size=function(){return this.root.length};this.get=function(e){return this.root[e]};this.indexOf=function(e,t){var i=this.root.length;if(typeof t=="undefined"){for(var a=0;a<i;++a)if(this.root[a]==e)return a}else{for(var a=0;a<i;++a)if(this.root[a][e]==t)return a}return-1};this.push=function(e){this.root.push(e);this.fire("load")};this.insert=function(e,t){this.root.splice(e,0,t);this.fire("load")};this.remove=function(e){this.root.splice(e,1);this.fire("load")};this.pop=function(e){this.root.pop();this.fire("load")};this.clear=function(){this.root=[];this.fire("load")};this.set=function(e,t){this.root[e]=t;this.fire("load")};this.load=function(e){if(e){this.root=e;this.totalProperty=e.length;this.fire("load")}else{var t=this;/*MWT.show_loading();*/jQuery.ajax({type:"post",async:true,url:this.url,data:this.baseParams,dataType:"json",complete:function(){MWT.hide_loading()},success:function(e){t.totalProperty=e.totalProperty;t.root=e.root;if(isset(e.annex))t.annex=e.annex;t.fire("load")},error:function(e,t,i){var a="Error("+e.readyState+") : "+t;alert(a)}})}};this.sort=function(e,t){this.baseParams["sort"]=e;this.baseParams["dir"]=t;this.load()}};MWT.extends(MWT.Store,MWT.Event);MWT.Pagebar=function(e){this.listeners={};this.store={};this.render=null;this.pageNumCount=10;this.pageSizeList=[10,20,50,100];this.start=0;this.pageSize=10;this.pageNum=0;this.pageCount=0;this.totalProperty=0;if(e){if(e.render)this.render=e.render;if(e.pageSize)this.pageSize=e.pageSize;if(e.pageSizeList)this.pageSizeList=e.pageSizeList;if(e.store){this.store=e.store;var t=this;this.store.on("load",function(e){t.totalProperty=e.totalProperty;t.pageNum=t.start/t.pageSize+1;t.pageCount=Math.ceil(e.totalProperty/t.pageSize);t.fire("load");t.display()})}}this.changePage=function(e){var t=e>0?e-1:0;this.start=t*this.pageSize;this.store.baseParams["start"]=this.start;this.store.baseParams["limit"]=this.pageSize;this.store.load()};this.changePagesize=function(e){this.pageSize=e;this.changePage(1)};this.nextPage=function(){var e=this.pageNum+1;if(e>this.pageCount){e=this.pageNum}this.changePage(e)};this.prevPage=function(){var e=this.pageNum-1;if(e<1){e=1}this.changePage(e)};this.firstPage=function(){this.changePage(1)};this.lastPage=function(){this.changePage(this.pageCount)};this.display=function(){if(this.render){var e=this;var t=this.render+"-sel";var i=this.render+"-page";var a="<table class='tablay' style='margin-top:3px;'><tr><td>";var s=[{text:"首页",value:1,active:this.pageNum!=1},{text:"上一页",value:this.pageNum-1,active:this.pageNum!=1}];var r=[];var n=Math.ceil(this.pageNumCount/2);var l=this.pageNum-n;if(l<1)l=1;var o=0;while(o<this.pageNumCount){var d=l!=this.pageNum;var h={text:l,value:l,active:d};r.push(h);++l;if(l>this.pageCount)break;++o}var u=[{text:"下一页",value:this.pageNum+1,active:this.pageCount>0&this.pageNum!=this.pageCount},{text:"尾页",value:this.pageCount,active:this.pageCount>0&this.pageNum!=this.pageCount}];var c=s.concat(r,u);for(var f=0;f<c.length;++f){var p=c[f].text;var g=c[f].value;var v=c[f].active?"":"disabled";var m=f==0?0:1;a+="<button name='"+i+"' "+v+" value='"+g+"' "+"class='mwt-btn mwt-btn-default mwt-btn-xs' style='border-radius:0;margin-left:"+m+"px;'>"+p+"</button>"}a+="</td><td style='text-align:right;font-size:12px;'>"+"共 <b>"+this.totalProperty+"</b> 条记录，每页显示个数：<select id='"+t+"'>";for(var f=0;f<this.pageSizeList.length;++f){var g=this.pageSizeList[f];var v=g==this.pageSize?"selected":"";a+="<option value='"+g+"' "+v+">"+g+"</option>"}a+="</select>";a+="</td></tr></table>";document.getElementById(this.render).innerHTML=a;document.getElementById(t).onchange=function(t){e.changePagesize(this.value)};var _=document.getElementsByName(i);for(var f=0;f<_.length;++f){_[f].onclick=function(t){e.changePage(this.value)}}}}};MWT.extends(MWT.Pagebar,MWT.Event);MWT.Field=function(e){this.listeners={};this.render=null;this.id="";this.value="";this.defaultValue="";this.cls="";this.style="";this.construct=function(e){if(e){if(isset(e.render))this.render=e.render;if(isset(e.id))this.id=e.id;if(isset(e.value))this.value=e.value;if(isset(e.style))this.style=e.style;if(isset(e.cls))this.cls=e.cls;this.defaultValue=this.value}};this.getId=function(){return this.id};this.getValue=function(){return this.value};this.reset=function(){this.value=this.defaultValue;this.setValue(this.defaultValue)}};MWT.extends(MWT.Field,MWT.Event);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){e.ui=e.ui||{};e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({scrollParent:function(t){var i=this.css("position"),a=i==="absolute",s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);if(a&&t.css("position")==="static"){return false}return s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!r.length?e(this[0].ownerDocument||document):r},uniqueId:function(){var e=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++e}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){e(this).removeAttr("id")}})}});function t(t,a){var s,r,n,l=t.nodeName.toLowerCase();if("area"===l){s=t.parentNode;r=s.name;if(!t.href||!r||s.nodeName.toLowerCase()!=="map"){return false}n=e("img[usemap='#"+r+"']")[0];return!!n&&i(n)}return(/^(input|select|textarea|button|object)$/.test(l)?!t.disabled:"a"===l?t.href||a:a)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var a=e.attr(i,"tabindex"),s=isNaN(a);return(s||a>=0)&&t(i,!s)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(t,i){var a=i==="Width"?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function n(t,i,s,r){e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0;if(s){i-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(r){i-=parseFloat(e.css(t,"margin"+this))||0}});return i}e.fn["inner"+i]=function(t){if(t===undefined){return r["inner"+i].call(this)}return this.each(function(){e(this).css(s,n(this,t)+"px")})};e.fn["outer"+i]=function(t,a){if(typeof t!=="number"){return r["outer"+i].call(this,t)}return this.each(function(){e(this).css(s,n(this,t,true,a)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(i){if(arguments.length){return t.call(this,e.camelCase(i))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.fn.extend({focus:function(t){return function(i,a){return typeof i==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus();if(a){a.call(t)}},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined){return this.css("zIndex",t)}if(this.length){var i=e(this[0]),a,s;while(i.length&&i[0]!==document){a=i.css("position");if(a==="absolute"||a==="relative"||a==="fixed"){s=parseInt(i.css("zIndex"),10);if(!isNaN(s)&&s!==0){return s}}i=i.parent()}}return 0}});e.ui.plugin={add:function(t,i,a){var s,r=e.ui[t].prototype;for(s in a){r.plugins[s]=r.plugins[s]||[];r.plugins[s].push([i,a[s]])}},call:function(e,t,i,a){var s,r=e.plugins[t];if(!r){return}if(!a&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)){return}for(s=0;s<r.length;s++){if(e.options[r[s][0]]){r[s][1].apply(e.element,i)}}}};e.extend(e.ui,{datepicker:{version:"1.11.4"}});var a;function s(e){var t,i;while(e.length&&e[0]!==document){t=e.css("position");if(t==="absolute"||t==="relative"||t==="fixed"){i=parseInt(e.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}e=e.parent()}return 0}function r(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"确认",prevText:"上月",nextText:"下月",currentText:"Today",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"Wk",dateFormat:"yy/mm/dd",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:"年"};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.regional.en=e.extend(true,{},this.regional[""]);this.regional["en-US"]=e.extend(true,{},this.regional.en);this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){o(this._defaults,e||{});return this},_attachDatepicker:function(t,i){var a,s,r;a=t.nodeName.toLowerCase();s=a==="div"||a==="span";if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}r=this._newInst(e(t),s);r.settings=e.extend({},i||{});if(a==="input"){this._connectDatepicker(t,r)}else if(s){this._inlineDatepicker(t,r)}},_newInst:function(t,i){var a=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:!i?this.dpDiv:n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]);i.trigger=e([]);if(a.hasClass(this.markerClassName)){return}this._attachments(a,i);a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(i);e.data(t,"datepicker",i);if(i.settings.disabled){this._disableDatepicker(t)}},_attachments:function(t,i){var a,s,r,n=this._get(i,"appendText"),l=this._get(i,"isRTL");if(i.append){i.append.remove()}if(n){i.append=e("<span class='"+this._appendClass+"'>"+n+"</span>");t[l?"before":"after"](i.append)}t.unbind("focus",this._showDatepicker);if(i.trigger){i.trigger.remove()}a=this._get(i,"showOn");if(a==="focus"||a==="both"){t.focus(this._showDatepicker)}if(a==="button"||a==="both"){s=this._get(i,"buttonText");r=this._get(i,"buttonImage");i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(!r?s:e("<img/>").attr({src:r,alt:s,title:s})));t[l?"before":"after"](i.trigger);i.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]){e.datepicker._hideDatepicker()}else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else{e.datepicker._showDatepicker(t[0])}return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,r=new Date(2009,12-1,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){t=function(e){i=0;a=0;for(s=0;s<e.length;s++){if(e[s].length>i){i=e[s].length;a=s}}return a};r.setMonth(t(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort")));r.setDate(t(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())}e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var a=e(t);if(a.hasClass(this.markerClassName)){return}a.addClass(this.markerClassName).append(i.dpDiv);e.data(t,"datepicker",i);this._setDate(i,this._getDefaultDate(i),true);this._updateDatepicker(i);this._updateAlternate(i);if(i.settings.disabled){this._disableDatepicker(t)}i.dpDiv.css("display","block")},_dialogDatepicker:function(t,i,a,s,r){var n,l,d,h,u,c=this._dialogInst;if(!c){this.uuid+=1;n="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+n+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);c=this._dialogInst=this._newInst(this._dialogInput,false);c.settings={};e.data(this._dialogInput[0],"datepicker",c)}o(c.settings,s||{});i=i&&i.constructor===Date?this._formatDate(c,i):i;this._dialogInput.val(i);this._pos=r?r.length?r:[r.pageX,r.pageY]:null;if(!this._pos){l=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h=document.documentElement.scrollLeft||document.body.scrollLeft;u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[l/2-100+h,d/2-150+u]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=a;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],"datepicker",c);return this},_destroyDatepicker:function(t){var i,s=e(t),r=e.data(t,"datepicker");if(!s.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();e.removeData(t,"datepicker");if(i==="input"){r.append.remove();r.trigger.remove();s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(i==="div"||i==="span"){s.removeClass(this.markerClassName).empty()}if(a===r){a=null}},_enableDatepicker:function(t){var i,a,s=e(t),r=e.data(t,"datepicker");if(!s.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();if(i==="input"){t.disabled=false;r.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(i==="div"||i==="span"){a=s.children("."+this._inlineClass);a.children().removeClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var i,a,s=e(t),r=e.data(t,"datepicker");if(!s.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();if(i==="input"){t.disabled=true;r.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(i==="div"||i==="span"){a=s.children("."+this._inlineClass);a.children().addClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e){return false}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]===e){return true}}return false},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,a){var s,r,n,l,d=this._getInst(t);if(arguments.length===2&&typeof i==="string"){return i==="defaults"?e.extend({},e.datepicker._defaults):d?i==="all"?e.extend({},d.settings):this._get(d,i):null}s=i||{};if(typeof i==="string"){s={};s[i]=a}if(d){if(this._curInst===d){this._hideDatepicker()}r=this._getDateDatepicker(t,true);n=this._getMinMaxDate(d,"min");l=this._getMinMaxDate(d,"max");o(d.settings,s);if(n!==null&&s.dateFormat!==undefined&&s.minDate===undefined){d.settings.minDate=this._formatDate(d,n)}if(l!==null&&s.dateFormat!==undefined&&s.maxDate===undefined){d.settings.maxDate=this._formatDate(d,l)}if("disabled"in s){if(s.disabled){this._disableDatepicker(t)}else{this._enableDatepicker(t)}}this._attachments(e(t),d);this._autoSize(d);this._setDate(d,r);this._updateAlternate(d);this._updateDatepicker(d)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);if(t){this._updateDatepicker(t)}},_setDateDatepicker:function(e,t){var i=this._getInst(e);if(i){this._setDate(i,t);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(e,t){var i=this._getInst(e);if(i&&!i.inline){this._setDateFromField(i,t)}return i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,r=e.datepicker._getInst(t.target),n=true,l=r.dpDiv.is(".ui-datepicker-rtl");r._keyEvent=true;if(e.datepicker._datepickerShowing){switch(t.keyCode){case 9:e.datepicker._hideDatepicker();n=false;break;case 13:s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv);if(s[0]){e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,s[0])}i=e.datepicker._get(r,"onSelect");if(i){a=e.datepicker._formatDate(r);i.apply(r.input?r.input[0]:null,[a,r])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:if(t.ctrlKey||t.metaKey){e.datepicker._clearDate(t.target)}n=t.ctrlKey||t.metaKey;break;case 36:if(t.ctrlKey||t.metaKey){e.datepicker._gotoToday(t.target)}n=t.ctrlKey||t.metaKey;break;case 37:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,l?+1:-1,"D")}n=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M")}break;case 38:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,-7,"D")}n=t.ctrlKey||t.metaKey;break;case 39:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,l?-1:+1,"D")}n=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M")}break;case 40:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,+7,"D")}n=t.ctrlKey||t.metaKey;break;default:n=false}}else if(t.keyCode===36&&t.ctrlKey){e.datepicker._showDatepicker(this)}else{n=false}if(n){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var i,a,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,"constrainInput")){i=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat"));a=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||(a<" "||!i||i.indexOf(a)>-1)}},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal){try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a));if(i){e.datepicker._setDateFromField(a);e.datepicker._updateAlternate(a);e.datepicker._updateDatepicker(a)}}catch(s){}}return true},_showDatepicker:function(t){t=t.target||t;if(t.nodeName.toLowerCase()!=="input"){t=e("input",t.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t){return}var i,a,r,n,l,d,h;i=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==i){e.datepicker._curInst.dpDiv.stop(true,true);if(i&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}a=e.datepicker._get(i,"beforeShow");r=a?a.apply(t,[t,i]):{};if(r===false){return}o(i.settings,r);i.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(i);if(e.datepicker._inDialog){t.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}n=false;e(t).parents().each(function(){n|=e(this).css("position")==="fixed";return!n});l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;i.dpDiv.empty();i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(i);l=e.datepicker._checkOffset(i,l,n);i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":n?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"});if(!i.inline){d=e.datepicker._get(i,"showAnim");h=e.datepicker._get(i,"duration");i.dpDiv.css("z-index",s(e(t))+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[d]){i.dpDiv.show(d,e.datepicker._get(i,"showOptions"),h)}else{i.dpDiv[d||"show"](d?h:null)}if(e.datepicker._shouldFocusInput(i)){i.input.focus()}e.datepicker._curInst=i}},_updateDatepicker:function(t){this.maxRows=4;a=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),r=s[1],n=17,o=t.dpDiv.find("."+this._dayOverClass+" a");if(o.length>0){l.apply(o.get(0))}t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(r>1){t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",n*r+"em")}t.dpDiv[(s[0]!==1||s[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)){t.input.focus()}if(t.yearshtml){i=t.yearshtml;setTimeout(function(){if(i===t.yearshtml&&t.yearshtml){t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml)}i=t.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),n=t.input?t.input.outerWidth():0,l=t.input?t.input.outerHeight():0,o=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(a?0:e(document).scrollTop());i.left-=this._get(t,"isRTL")?s-n:0;i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0;i.top-=a&&i.top===t.input.offset().top+l?e(document).scrollTop():0;i.left-=Math.min(i.left,i.left+s>o&&o>s?Math.abs(i.left+s-o):0);i.top-=Math.min(i.top,i.top+r>d&&d>r?Math.abs(r+l):0);return i},_findPos:function(t){var i,a=this._getInst(t),s=this._get(a,"isRTL");while(t&&(t.type==="hidden"||t.nodeType!==1||e.expr.filters.hidden(t))){t=t[s?"previousSibling":"nextSibling"]}i=e(t).offset();return[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,r,n=this._curInst;if(!n||t&&n!==e.data(t,"datepicker")){return}if(this._datepickerShowing){i=this._get(n,"showAnim");a=this._get(n,"duration");s=function(){e.datepicker._tidyDialog(n)};if(e.effects&&(e.effects.effect[i]||e.effects[i])){n.dpDiv.hide(i,e.datepicker._get(n,"showOptions"),a,s)}else{n.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?a:null,s)}if(!i){s()}this._datepickerShowing=false;r=this._get(n,"onClose");if(r){r.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst){return}var i=e(t.target),a=e.datepicker._getInst(i[0]);if(i[0].id!==e.datepicker._mainDivId&&i.parents("#"+e.datepicker._mainDivId).length===0&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a){
e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),r=this._getInst(s[0]);if(this._isDisabledDatepicker(s[0])){return}this._adjustInstDate(r,i+(a==="M"?this._get(r,"showCurrentAtPos"):0),a);this._updateDatepicker(r)},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);if(this._get(s,"gotoCurrent")&&s.currentDay){s.selectedDay=s.currentDay;s.drawMonth=s.selectedMonth=s.currentMonth;s.drawYear=s.selectedYear=s.currentYear}else{i=new Date;s.selectedDay=i.getDate();s.drawMonth=s.selectedMonth=i.getMonth();s.drawYear=s.selectedYear=i.getFullYear()}this._notifyChange(s);this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),r=this._getInst(s[0]);r["selected"+(a==="M"?"Month":"Year")]=r["draw"+(a==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(r);this._adjustDate(s)},_selectDay:function(t,i,a,s){var r,n=e(t);if(e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])){return}r=this._getInst(n[0]);r.selectedDay=r.currentDay=e("a",s).html();r.selectedMonth=r.currentMonth=i;r.selectedYear=r.currentYear=a;this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),r=this._getInst(s[0]);i=i!=null?i:this._formatDate(r);if(r.input){r.input.val(i)}this._updateAlternate(r);a=this._get(r,"onSelect");if(a){a.apply(r.input?r.input[0]:null,[i,r])}else if(r.input){r.input.trigger("change")}if(r.inline){this._updateDatepicker(r)}else{this._hideDatepicker();this._lastInput=r.input[0];if(typeof r.input[0]!=="object"){r.input.focus()}this._lastInput=null}},_updateAlternate:function(t){var i,a,s,r=this._get(t,"altField");if(r){i=this._get(t,"altFormat")||this._get(t,"dateFormat");a=this._getDate(t);s=this.formatDate(i,a,this._getFormatConfig(t));e(r).each(function(){e(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));t=i.getTime();i.setMonth(0);i.setDate(1);return Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,a){if(t==null||i==null){throw"Invalid arguments"}i=typeof i==="object"?i.toString():i+"";if(i===""){return null}var s,r,n,l=0,o=(a?a.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=typeof o!=="string"?o:(new Date).getFullYear()%100+parseInt(o,10),h=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,u=(a?a.dayNames:null)||this._defaults.dayNames,c=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,f=(a?a.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,v=-1,m=-1,_=false,y,k=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;if(i){s++}return i},b=function(e){var t=k(e),a=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,s=e==="y"?a:1,r=new RegExp("^\\d{"+s+","+a+"}"),n=i.substring(l).match(r);if(!n){throw"Missing number at position "+l}l+=n[0].length;return parseInt(n[0],10)},D=function(t,a,s){var r=-1,n=e.map(k(t)?s:a,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(n,function(e,t){var a=t[1];if(i.substr(l,a.length).toLowerCase()===a.toLowerCase()){r=t[0];l+=a.length;return false}});if(r!==-1){return r+1}else{throw"Unknown name at position "+l}},w=function(){if(i.charAt(l)!==t.charAt(s)){throw"Unexpected literal at position "+l}l++};for(s=0;s<t.length;s++){if(_){if(t.charAt(s)==="'"&&!k("'")){_=false}else{w()}}else{switch(t.charAt(s)){case"d":v=b("d");break;case"D":D("D",h,u);break;case"o":m=b("o");break;case"m":g=b("m");break;case"M":g=D("M",c,f);break;case"y":p=b("y");break;case"@":y=new Date(b("@"));p=y.getFullYear();g=y.getMonth()+1;v=y.getDate();break;case"!":y=new Date((b("!")-this._ticksTo1970)/1e4);p=y.getFullYear();g=y.getMonth()+1;v=y.getDate();break;case"'":if(k("'")){w()}else{_=true}break;default:w()}}}if(l<i.length){n=i.substr(l);if(!/^\s+/.test(n)){throw"Extra/unparsed characters found in date: "+n}}if(p===-1){p=(new Date).getFullYear()}else if(p<100){p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=d?0:-100)}if(m>-1){g=1;v=m;do{r=this._getDaysInMonth(p,g-1);if(v<=r){break}g++;v-=r}while(true)}y=this._daylightSavingAdjust(new Date(p,g-1,v));if(y.getFullYear()!==p||y.getMonth()+1!==g||y.getDate()!==v){throw"Invalid date"}return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,t,i){if(!t){return""}var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,n=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,l=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=a+1<e.length&&e.charAt(a+1)===t;if(i){a++}return i},d=function(e,t,i){var a=""+t;if(o(e)){while(a.length<i){a="0"+a}}return a},h=function(e,t,i,a){return o(e)?a[t]:i[t]},u="",c=false;if(t){for(a=0;a<e.length;a++){if(c){if(e.charAt(a)==="'"&&!o("'")){c=false}else{u+=e.charAt(a)}}else{switch(e.charAt(a)){case"d":u+=d("d",t.getDate(),2);break;case"D":u+=h("D",t.getDay(),s,r);break;case"o":u+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=d("m",t.getMonth()+1,2);break;case"M":u+=h("M",t.getMonth(),n,l);break;case"y":u+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=t.getTime()*1e4+this._ticksTo1970;break;case"'":if(o("'")){u+="'"}else{c=true}break;default:u+=e.charAt(a)}}}}return u},_possibleChars:function(e){var t,i="",a=false,s=function(i){var a=t+1<e.length&&e.charAt(t+1)===i;if(a){t++}return a};for(t=0;t<e.length;t++){if(a){if(e.charAt(t)==="'"&&!s("'")){a=false}else{i+=e.charAt(t)}}else{switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":if(s("'")){i+="'"}else{a=true}break;default:i+=e.charAt(t)}}}return i},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal){return}var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,n=this._getFormatConfig(e);try{r=this.parseDate(i,a,n)||s}catch(l){a=t?"":a}e.selectedDay=r.getDate();e.drawMonth=e.selectedMonth=r.getMonth();e.drawYear=e.selectedYear=r.getFullYear();e.currentDay=a?r.getDate():0;e.currentMonth=a?r.getMonth():0;e.currentYear=a?r.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},r=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=s.getFullYear(),n=s.getMonth(),l=s.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=o.exec(i);while(d){switch(d[2]||"d"){case"d":case"D":l+=parseInt(d[1],10);break;case"w":case"W":l+=parseInt(d[1],10)*7;break;case"m":case"M":n+=parseInt(d[1],10);l=Math.min(l,e.datepicker._getDaysInMonth(r,n));break;case"y":case"Y":r+=parseInt(d[1],10);l=Math.min(l,e.datepicker._getDaysInMonth(r,n));break}d=o.exec(i)}return new Date(r,n,l)},n=i==null||i===""?a:typeof i==="string"?r(i):typeof i==="number"?isNaN(i)?a:s(i):new Date(i.getTime());n=n&&n.toString()==="Invalid Date"?a:n;if(n){n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}return this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,r=e.selectedYear,n=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=n.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=n.getMonth();e.drawYear=e.selectedYear=e.currentYear=n.getFullYear();if((s!==e.selectedMonth||r!==e.selectedYear)&&!i){this._notifyChange(e)}this._adjustInstDate(e);if(e.input){e.input.val(a?"":this._formatDate(e))}},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(a,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(a,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,r,n,l,o,d,h,u,c,f,p,g,v,m,_,y,k,b,D,w,M,x,I,C,T,S,N,j,W,E,Y,F,A,B,P,R,Q=new Date,L=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())),z=this._get(e,"isRTL"),O=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),K=this._get(e,"navigationAsDateFormat"),H=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),X=H[0]!==1||H[1]!==1,q=this._daylightSavingAdjust(!e.currentDay?new Date(9999,9,9):new Date(e.currentYear,e.currentMonth,e.currentDay)),G=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-U,ee=e.drawYear;if(J<0){J+=12;ee--}if(Z){t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-H[0]*H[1]+1,Z.getDate()));t=G&&t<G?G:t;while(this._daylightSavingAdjust(new Date(ee,J,1))>t){J--;if(J<0){J=11;ee--}}}e.drawMonth=J;e.drawYear=ee;i=this._get(e,"prevText");i=!K?i:this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-V,1)),this._getFormatConfig(e));a=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>";s=this._get(e,"nextText");s=!K?s:this.formatDate(s,this._daylightSavingAdjust(new Date(ee,J+V,1)),this._getFormatConfig(e));r=this._canAdjustMonth(e,+1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>";n=this._get(e,"currentText");l=this._get(e,"gotoCurrent")&&e.currentDay?q:L;n=!K?n:this.formatDate(n,l,this._getFormatConfig(e));o=!e.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>":"";d=O?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?o:"")+(this._isInRange(e,l)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+n+"</button>":"")+(z?"":o)+"</div>":"";h=parseInt(this._get(e,"firstDay"),10);h=isNaN(h)?0:h;u=this._get(e,"showWeek");c=this._get(e,"dayNames");f=this._get(e,"dayNamesMin");p=this._get(e,"monthNames");g=this._get(e,"monthNamesShort");v=this._get(e,"beforeShowDay");m=this._get(e,"showOtherMonths");_=this._get(e,"selectOtherMonths");y=this._getDefaultDate(e);k="";b;for(D=0;D<H[0];D++){w="";this.maxRows=4;for(M=0;M<H[1];M++){x=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay));I=" ui-corner-all";C="";if(X){C+="<div class='ui-datepicker-group";if(H[1]>1){switch(M){case 0:C+=" ui-datepicker-group-first";I=" ui-corner-"+(z?"right":"left");break;case H[1]-1:C+=" ui-datepicker-group-last";I=" ui-corner-"+(z?"left":"right");break;default:C+=" ui-datepicker-group-middle";I="";break}}C+="'>"}C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&D===0?z?r:a:"")+(/all|right/.test(I)&&D===0?z?a:r:"")+this._generateMonthYearHeader(e,J,ee,G,Z,D>0||M>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";T=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(b=0;b<7;b++){S=(b+h)%7;T+="<th scope='col'"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[S]+"'>"+f[S]+"</span></th>"}C+=T+"</tr></thead><tbody>";N=this._getDaysInMonth(ee,J);if(ee===e.selectedYear&&J===e.selectedMonth){e.selectedDay=Math.min(e.selectedDay,N)}j=(this._getFirstDayOfMonth(ee,J)-h+7)%7;W=Math.ceil((j+N)/7);E=X?this.maxRows>W?this.maxRows:W:W;this.maxRows=E;Y=this._daylightSavingAdjust(new Date(ee,J,1-j));for(F=0;F<E;F++){C+="<tr>";A=!u?"":"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Y)+"</td>";for(b=0;b<7;b++){B=v?v.apply(e.input?e.input[0]:null,[Y]):[true,""];P=Y.getMonth()!==J;R=P&&!_||!B[0]||G&&Y<G||Z&&Y>Z;A+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(Y.getTime()===x.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===Y.getTime()&&y.getTime()===x.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!m?"":" "+B[1]+(Y.getTime()===q.getTime()?" "+this._currentClass:"")+(Y.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+((!P||m)&&B[2]?" title='"+B[2].replace(/'/g,"&#39;")+"'":"")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+Y.getMonth()+"' data-year='"+Y.getFullYear()+"'")+">"+(P&&!m?"&#xa0;":R?"<span class='ui-state-default'>"+Y.getDate()+"</span>":"<a class='ui-state-default"+(Y.getTime()===L.getTime()?" ui-state-highlight":"")+(Y.getTime()===q.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#'>"+Y.getDate()+"</a>")+"</td>";Y.setDate(Y.getDate()+1);Y=this._daylightSavingAdjust(Y)}C+=A+"</tr>"}J++;if(J>11){J=0;ee++}C+="</tbody></table>"+(X?"</div>"+(H[0]>0&&M===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");w+=C}k+=w}k+=d;e._keyEvent=false;return k},_generateMonthYearHeader:function(e,t,i,a,s,r,n,l){var o,d,h,u,c,f,p,g,v=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",k="";if(r||!v){k+="<span class='ui-datepicker-month'>"+n[t]+"</span>"}else{o=a&&a.getFullYear()===i;d=s&&s.getFullYear()===i;k+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(h=0;h<12;h++){if((!o||h>=a.getMonth())&&(!d||h<=s.getMonth())){k+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+l[h]+"</option>"}}k+="</select>"}if(!_){y+=k+(r||!(v&&m)?"&#xa0;":"")}if(!e.yearshtml){e.yearshtml="";if(r||!m){y+="<span class='ui-datepicker-year'>"+i+"</span>"}else{u=this._get(e,"yearRange").split(":");c=(new Date).getFullYear();f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t};p=f(u[0]);g=Math.max(p,f(u[1]||""));p=a?Math.max(p,a.getFullYear()):p;g=s?Math.min(g,s.getFullYear()):g;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;p<=g;p++){e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>"}e.yearshtml+="</select>";y+=e.yearshtml;e.yearshtml=null}}y+=this._get(e,"yearSuffix");if(_){y+=(r||!(v&&m)?"&#xa0;":"")+k}y+="</div>";return y},_adjustInstDate:function(e,t,i){var a=e.drawYear+(i==="Y"?t:0),s=e.drawMonth+(i==="M"?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+(i==="D"?t:0),n=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,r)));e.selectedDay=n.getDate();e.drawMonth=e.selectedMonth=n.getMonth();e.drawYear=e.selectedYear=n.getFullYear();if(i==="M"||i==="Y"){this._notifyChange(e)}},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");if(t){t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])}},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t==="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,a+(t<0?t:s[0]*s[1]),1));if(t<0){r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth()))}return this._isInRange(e,r)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),n=null,l=null,o=this._get(e,"yearRange");if(o){i=o.split(":");a=(new Date).getFullYear();n=parseInt(i[0],10);l=parseInt(i[1],10);if(i[0].match(/[+\-].*/)){n+=a}if(i[1].match(/[+\-].*/)){l+=a}}return(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!n||t.getFullYear()>=n)&&(!l||t.getFullYear()<=l)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t=typeof t!=="string"?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var s=t?typeof t==="object"?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}});function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(i,"mouseover",l)}function l(){if(!e.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}}function o(t,i){e.extend(t,i);for(var a in i){if(i[a]==null){t[a]=i[a]}}return t}e.fn.datepicker=function(t){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var i=Array.prototype.slice.call(arguments,1);if(typeof t==="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))}if(t==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))}return this.each(function(){typeof t==="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)})};e.datepicker=new r;e.datepicker.initialized=false;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.11.4";var d=e.datepicker});MWT.SelectField=function(e){this.listeners={};this.options=[];if(e){if(isset(e.options))this.options=e.options;this.construct(e);if(this.id=="")this.id=this.render+"sel"}this.create=function(){var e=this;var t=this.id;var i="<select id='"+this.id+"'";if(this.cls!=""){i+=" class='"+this.cls+"'"}else{i+=" class='form-control'"}if(this.style!="")i+=' style="'+this.style+'"';else i+=' style="width:auto;border-radius:2px;"';i+=">";for(var a=0;a<this.options.length;++a){var s=isset(this.value)?this.value:0;var r=this.options[a].value==s?"selected":"";i+="<option value='"+this.options[a].value+"' "+r+">"+this.options[a].text+"</option>"}i+="</select>";jQuery("#"+this.render).html(i);jQuery("#"+t).change(function(){var t=jQuery(this).children("option:selected").val();e.value=t;e.fire("change")})};this.setValue=function(e){this.value=e;set_select_value(this.id,e)}};MWT.extends(MWT.SelectField,MWT.Field);Date.prototype.format=function(e){var t={"m+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"M+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(e))e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(2-RegExp.$1.length));for(var i in t)if(new RegExp("("+i+")").test(e))e=e.replace(RegExp.$1,RegExp.$1.length==1?t[i]:("00"+t[i]).substr((""+t[i]).length));return e};MWT.DatePicker=function(e){this.listeners={};this.format="yy/mm/dd";if(e){this.construct(e);if(this.id=="")this.id=this.render+"txt";if(isset(e.format))this.format=e.format;if(!isset(e.value))this.value=(new Date).format(this.format)}this.create=function(){var e=this;var t=this.id;var i="<input type='text' class='form-control form-datepicker'";if(this.style!="")i+=' style="'+this.style+'"';i+=" id='"+t+"' value='"+this.value+"' readonly/>";jQuery("#"+this.render).html(i);jQuery("#"+t).datepicker({changeMonth:true,numberOfMonths:1,dateFormat:this.format});jQuery("#"+t).change(function(){e.value=jQuery(this).val();e.fire("change")})};this.setValue=function(e){this.value=e;set_value(this.id,e)}};MWT.extends(MWT.DatePicker,MWT.Field);MWT.DateRangePicker=function(e){this.listeners={};this.format="yy/mm/dd";this.float="left";if(e){this.construct(e);if(isset(e.format))this.format=e.format;if(isset(e.float))this.float=e.float;if(this.id=="")this.id=this.render+"txt"}this.create=function(){var e=this;var t=this.id;var i=this.id+"rdiv";var a=this.id+"from";var s=this.id+"to";var r=' style="width:180px" ';if(this.style!="")r=' style="'+this.style+'" ';var n="<div class='date-range'><input type='text' class='form-control form-datepicker'"+r+"id='"+t+"' value='"+this.value+"' readonly/>"+"<div class='date-pop' id='"+i+"' style='"+this.float+":0;'>"+"<div class='btn-bar'>"+'<button class="date-submit mwt-btn mwt-btn-default mwt-btn-sm" data-value="90">最近90天</button>'+'<button class="date-submit mwt-btn mwt-btn-default mwt-btn-sm" data-value="60">最近60天</button>'+'<button class="date-submit mwt-btn mwt-btn-default mwt-btn-sm" data-value="30">最近30天</button>'+'<button class="date-submit mwt-btn mwt-btn-default mwt-btn-sm" data-value="7">最近7天</button>'+'<button class="date-submit mwt-btn mwt-btn-danger mwt-btn-sm fr" data-value="cancel">取消</button>'+'<button class="date-submit mwt-btn mwt-btn-primary mwt-btn-sm fr">确定</button>'+"</div>"+'<div class="date-area" id="'+a+'"></div>'+'<div class="date-area" id="'+s+'" style="float:right;"></div>'+"</div></div>";jQuery("#"+this.render).html(n);var l=jQuery("#"+t);l.click(function(){jQuery("#"+i).show("fast")});var o=jQuery("#"+a);var d=jQuery("#"+s);o.datepicker({defaultDate:"+1w",changeMonth:true,numberOfMonths:1,onSelect:function(e){d.datepicker("option","minDate",e)}});d.datepicker({defaultDate:"+1w",changeMonth:true,numberOfMonths:1,onSelect:function(e){o.datepicker("option","maxDate",e)}});var h=jQuery("#"+i);h.find(".date-submit").click(function(){var t=jQuery(this);if(t.data("value")){var a=t.data("value");if(a=="cancel"){jQuery("#"+i).hide("fast");return}var s=new Date;var r=new Date;s.setTime(s.getTime()-864e5*a);r.setTime(r.getTime()-864e5);o.datepicker("setDate",s);d.datepicker("setDate",r)}var n=o.datepicker("getDate").format(e.format);var h=d.datepicker("getDate").format(e.format);e.value=n+" ~ "+h;l.val(e.value);jQuery("#"+i).hide("fast");e.fire("change")});this.setDefault(7)};this.setDefault=function(e){var t=this;var i=this.id+"from";var a=this.id+"to";var s=this.id;var r=jQuery("#"+i);var n=jQuery("#"+a);var l=jQuery("#"+s);var o=new Date;var d=new Date;o.setTime(o.getTime()-864e5*e);d.setTime(d.getTime()-864e5);r.datepicker("setDate",o);n.datepicker("setDate",d);var h=r.datepicker("getDate").format(t.format);var u=n.datepicker("getDate").format(t.format);t.value=h+" ~ "+u;l.val(t.value)}};MWT.extends(MWT.DateRangePicker,MWT.Field);MWT.RadiobtnField=function(e){this.listeners={};this.options=[];if(e){if(isset(e.options))this.options=e.options;this.construct(e);if(this.id=="")this.id=this.render+"sel";if(e.style)this.style=e.style;if(e.class)this.class=e.class}this.create=function(){var e=this;var t=this.id+"rabtn";var i="<div class='mwt-btn-group' style='"+this.style+"'>";for(var a=0;a<this.options.length;++a){var s=isset(this.value)?this.value:0;var r=this.options[a].value==s?"active":"";var n="mwt-btn mwt-btn-xs";if(isset(this.class))n+=" "+this.class;else n+=" mwt-btn-primary";n+=" "+r;i+="<button name='"+t+"' class='"+n+"' data-value='"+this.options[a].value+"'>"+this.options[a].text+"</button>"}i+="</div><input type='hidden' id='"+this.id+"' value='"+this.value+"'/>";jQuery("#"+this.render).html(i);jQuery("button[name="+t+"]").click(function(){jQuery("button[name="+t+"]").removeClass("active");jQuery(this).addClass("active");e.value=jQuery(this).data("value");set_value(e.id,e.value);e.fire("change")})};this.setValue=function(e){this.value=e;jQuery("#"+this.id).val(e);var t=this.id+"rabtn";jQuery("button[name="+t+"]").removeClass("active");jQuery("button[data-value='"+e+"']").addClass("active")}};MWT.extends(MWT.RadiobtnField,MWT.Field);MWT.Toolbar=function(e){this.listeners={};this.render=null;this.cls="";this.style="";this.items=[];if(e){if(e.render)this.render=e.render;if(e.items)this.items=e.items;if(e.cls)this.cls=e.cls;if(e.style)this.style=e.style}this.create=function(){var e="<div class='mwt-toolbar'>"+this.createItems()+"</div>";jQuery("#"+this.render).html(e)};this.createItems=function(){var e="<div class='row'><ul>";var t=false;for(var i=0;i<this.items.length;++i){var a=this.items[i];var s=typeof a;if(s=="string"){switch(a){case"-":e+="</ul></div><hr><div class='row'><ul>";break;case"->":e+="</ul><ul class='right'>";break;case"|":e+="<li class='sep'></li>";break;default:e+="<li>"+a+"</li>";break}}else{}}e+="</ul></div>";return e}};MWT.extends(MWT.Toolbar,MWT.Event);MWT.Dialog=function(e){this.listeners={};var t="新建窗口";var i=null;var a="";var s="";var r="";var n="";var l="500px";var o="auto";var d=100;var h=null;var u;if(e){if(e.title)t=e.title;if(e.width)l=e.width+"px";if(e.height)o=e.height+"px";if(e.top)d=e.top;if(e.form)u=e.form;if(e.buttons)h=e.buttons;n=e.render}function c(e){if(e.which!=1)return;var t=document.getElementById(a);t.style.cursor="move";$("#"+a).data("mdown","1");$("#"+a).data("objX",t.style.left);$("#"+a).data("objY",t.style.top);$("#"+a).data("mouseX",e.clientX);$("#"+a).data("mouseY",e.clientY)}function f(e){if(e.which!=1)return;if($("#"+a).data("mdown")==1){var t=$("#"+a).data("objX");var i=$("#"+a).data("objY");var s=$("#"+a).data("mouseX");var r=$("#"+a).data("mouseY");var n=document.getElementById(a);var l=e.clientX;var o=e.clientY;n.style.left=parseInt(t)+parseInt(l)-parseInt(s)+"px";n.style.top=parseInt(i)+parseInt(o)-parseInt(r)+"px"}}function p(e){if(e.which!=1)return;var t=document.getElementById(a);t.style.cursor="default";$("#"+a).data("mdown","0")}this.create=function(){var e=this;var g=n;a=g+"-dialog-body";s=g+"-dialog-title";r=g+"-dialog-content";i=document.getElementById(g);i.className="mwt-dialog";var v=i.innerHTML;if(isset(u))v="<div id='"+u.render+"' style='margin:5px;'></div>";var m="<div class='modaldiv'></div>";m+="<div id='"+a+"' class='dialog-body'";m+="style='top:"+d+"px;left:0;padding:4px;'>";m+="<div style='height:30px;line-height:30px;' id='d-head-"+g+"'><table class='tablay'>"+"<tr><td class='header' id='"+s+"'>"+t+"</td>"+"<td style='align:right;'>"+"<a class='btnclose' href='javascript:hide(\""+g+"\")'> × </a></td></t></table></div>";m+="<div class='content' onmousedown='' style='width:"+l+";height:"+o+"' id='"+r+"'>"+v+"</div>";if(h&&h.length>0){m+="<div id='d-foot-"+g+"' style='height:40px;line-height:40px;text-align:right'>";for(var _=0;_<h.length;_++){var y=isset(h[_].cls)?h[_].cls:"mwt-btn-default";m+=" <button class='mwt-btn "+y+" mwt-btn-sm' id='"+g+_+"btn'>"+h[_].label+"</button>"}m+="</div>"}m+="</div></div>";i.innerHTML=m;if(isset(u)){u.create()}if(h&&h.length>0){for(var _=0;_<h.length;_++){var k=g+_+"btn";if(h[_].type=="close"){$("#"+k).click(function(){e.close()})}else if(h[_].type=="submit"&&isset(u)){$("#"+k).click(function(){u.submit()})}else if(isset(h[_].handler)){$("#"+k).click(h[_].handler)}}}$("#d-head-"+g).mousedown(c);$("#d-head-"+g).mousemove(f);$("#d-head-"+g).mouseup(p);$("#d-foot-"+g).mousedown(c);$("#d-foot-"+g).mousemove(f);$("#d-foot-"+g).mouseup(p)};this.open=function(){if(i==null){this.create()}this.fire("beforeOpen");i.style.display="block";this.fire("open")};this.close=function(){i.style.display="none"};this.setTitle=function(e){t=e;if(i){document.getElementById(s).innerHTML=t}}};MWT.extends(MWT.Dialog,MWT.Event);MWT.Form=function(e){this.listeners={};this.item={};this.render=null;this.labelWidth=80;var t=[];var i="";if(e){if(e.render){this.render=e.render;i=this.render+"-fm"}if(e.items)t=e.items;if(e.labelWidth)this.labelWidth=e.labelWidth}function a(e){var t=e.value?e.value:"";return"<input name='"+e.name+"' type='hidden' value='"+t+"'>"}function s(e){var t=e.style?'style="'+e.style+'"':"";var i=e.value?e.value:"";return"<input name='"+e.name+"' type='text' class='form-control' "+t+" value='"+i+"'>"}function r(e){var t=e.style?'style="'+e.style+'"':"";var i=e.value?e.value:"";return"<textarea name='"+e.name+"' class='form-control' "+t+">"+i+"</textarea>"}function n(e){var t=e.name;var a=document.getElementById(i);var s=a[t].value.trim();a[t].value=s;if(s==""){if(e.errmsg){document.getElementById(t+"-errmsg").innerHTML=e.errmsg}a[t].focus();throw new Error(t+" is empty")}return s}function l(e){var t=e.value?e.value:"";var a=document.getElementById(i);a[e.name].value=t}function o(e,t){if(t[e.name]){var a=document.getElementById(i);a[e.name].value=t[e.name]}}function d(e){var t=e.style?'style="'+e.style+'"':"";var i=e.value?e.value:"";var a="<select name='"+e.name+"' class='form-control' "+t+">";for(var s=0;s<e.options.length;++s){var r=e.options[s].value==e.value?"selected":"";a+="<option value='"+e.options[s].value+"' "+r+">"+e.options[s].text+"</option>"}a+="</select>";return a}function h(e){var t=document.getElementById(i);var a=t[e.name];return a.options[a.selectedIndex].value}function u(e){var t=document.getElementById(i);var a=t[e.name];var s=e.value;for(var r=0;r<a.options.length;r=r+1){if(a.options[r].value==s){a.options[r].selected=true;break}}}function c(e,t){var a=document.getElementById(i);var s=a[e.name];var r=t[e.name];for(var n=0;n<s.options.length;n=n+1){if(s.options[n].value==r){s.options[n].selected=true;break}}}function f(e){var t=e.style?'style="'+e.style+'"':"";var i=e.value?e.value:"";var a="<div style='line-height:25px;'>";for(var s=0;s<e.options.length;++s){var r=e.options[s].value==e.value?"checked":"";a+="<label class='pointer' "+t+"><input type='radio' name='"+e.name+"' "+" value='"+e.options[s].value+"' "+r+">"+e.options[s].text+"</label>"}a+="</div>";return a}function p(e){
var t=document.getElementById(i);var a=t[e.name];for(var s=0;s<a.length;s=s+1){if(a[s].checked==true){return a[s].value}}if(e.errmsg){document.getElementById(name+"-errmsg").innerHTML=e.errmsg}throw new Error(e.name+" is not select")}function g(e,t){var a=document.getElementById(i);var s=a[e.name];for(var r=0;r<s.length;++r){if(s[r].value==t[e.name]){s[r].checked=true;return}}}function v(e){var t={};t[e.name]=e.value;g(e,t)}function m(e){var t=e.style?'style="'+e.style+'"':"";var i=e.value?e.value:"";var a="<div style='line-height:25px;'>";for(var s=0;s<e.options.length;++s){var r=e.options[s].value==e.value?"checked":"";a+="<label class='pointer' "+t+"><input type='checkbox' name='"+e.name+"' "+" value='"+e.options[s].value+"' "+r+">"+e.options[s].text+"</label>"}a+="</div>";return a}function _(e){var t=document.getElementById(i);var a=get_checkbox_values(e.name);if(a.length>0){return a.join(",")}if(e.errmsg){document.getElementById(e.name+"-errmsg").innerHTML=e.errmsg;throw new Error(e.name+" is not select")}return""}function y(e,t){var a=document.getElementById(i);var s=t[e.name].split(",");set_checkbox_values(e.name,s)}function k(e){var t={};t[e.name]=e.value;y(e,t)}this.create=function(){var e=this.render;var i="<form id='form-div-fm' onsubmit='return false;'><table class='tabform'>";for(var n=0;n<t.length;++n){var l=t[n].label;var o=t[n].name;var h=t[n].type;if(h=="hidden"){i+=a(t[n]);continue}i+="<tr><th width='"+this.labelWidth+"'>"+l+":</th><td>";switch(h){case"text":i+=s(t[n]);break;case"textarea":i+=r(t[n]);break;case"select":i+=d(t[n]);break;case"radio":i+=f(t[n]);break;case"checkbox":i+=m(t[n]);break}i+="</td><td class='tip'><div id='"+o+"-errmsg'></div></td></tr>"}i+="</table></form>";document.getElementById(e).innerHTML=i};this.submit=function(){var e=this;this.item={};var a=document.getElementById(i);for(var s=0;s<t.length;++s){var r=t[s].name;var l=t[s].type;var o=document.getElementById(t[s].name+"-errmsg");if(o)o.innerHTML="";switch(l){case"hidden":case"text":case"textarea":this.item[r]=n(t[s]);break;case"select":this.item[r]=h(t[s]);break;case"radio":this.item[r]=p(t[s]);break;case"checkbox":this.item[r]=_(t[s]);break}}e.fire("submit")};this.load=function(e){var a=document.getElementById(i);for(var s=0;s<t.length;++s){var r=document.getElementById(t[s].name+"-errmsg");if(r)r.innerHTML="";switch(t[s].type){case"hidden":case"text":case"textarea":o(t[s],e);break;case"select":c(t[s],e);break;case"radio":g(t[s],e);break;case"checkbox":y(t[s],e);break}}this.fire("load")};this.reset=function(){var e=document.getElementById(i);for(var a=0;a<t.length;++a){var s=document.getElementById(t[a].name+"-errmsg");if(s)s.innerHTML="";switch(t[a].type){case"hidden":case"text":case"textarea":l(t[a]);break;case"select":u(t[a]);break;case"radio":v(t[a]);break;case"checkbox":k(t[a]);break}}this.fire("reset")}};MWT.extends(MWT.Form,MWT.Event);MWT.Tree=function(e){this.listeners={};this.root;this.render=null;this.showRoot=false;if(e){if(isset(e.showRoot))this.showRoot=e.showRoot;if(isset(e.render))this.render=e.render}function t(e){return!isset(e.children)}function i(e){if(t(e))return false;if(isset(e.expand)&&!e.expand)return false;return true}this.togglenode=function(){var e="sub-tree-"+jQuery(this).data("sub-tree");if(jQuery(this).hasClass("folder")){jQuery(this).removeClass("folder");jQuery(this).addClass("folder-open");jQuery("#"+e).show()}else{jQuery(this).removeClass("folder-open");jQuery(this).addClass("folder");jQuery("#"+e).hide()}};this.load=function(e){this.root=e;var t="";var i="<ul class='mwt-tree'>";if(this.showRoot){i+=this.display_tree_node(e,t)}else if(isset(e.children)){for(var a=0;a<e.children.length;++a){i+=this.display_tree_node(e.children[a],t)}}i+="</ul>";set_html(this.render,i);var s=this;jQuery(".folder").click(s.togglenode);jQuery(".folder-open").click(s.togglenode);jQuery(".tree-node").click(function(){s.click_node(jQuery(this).data("node-id"))})};this.display_tree_node=function(e,t){var a="<li>"+this.get_tree_node_prefix(t,e)+this.get_tree_node(e);if(isset(e.children)){var s="";if(!i(e))s="display:none";a+="<ul class='mwt-tree' id='sub-tree-"+e.node_id+"' style='"+s+"'>";var r=t+"<span style='padding-left:15px;'></span>";for(var n=0;n<e.children.length;++n){a+=this.display_tree_node(e.children[n],r)}a+="</ul>"}a+="</li>";return a};this.get_tree_node_prefix=function(e,a){var s="folder-open";if(t(a))s="leaf";else if(!i(a)){s="folder"}return e+"<i class='icon "+s+"' data-sub-tree='"+a.node_id+"'></i>"};this.get_tree_node=function(e){var t="<a href='javascript:void(0);' class='tree-node' id='tn-"+e.node_id+"' "+"data-node-id='"+e.node_id+"' data-node-value='"+e.node_value+"'>"+e.node_name+"</a>";return t};this.click_node=function(e){var t=jQuery("#tn-"+e);var i={node_id:e,node_name:t.html(),node_value:t.data("node-value")};this.clicked_node=i;this.fire("click-node")};this.fold=function(){this.toggle(0)};this.unfold=function(){this.toggle(1)};this.toggle=function(e){var t=this.root;for(var i=0;i<t.children.length;++i){var a=t.children[i].node_id;$subtree=jQuery("#sub-tree-"+a);$icon=jQuery("[data-sub-tree='"+a+"']");if(e==0){$icon.removeClass("folder-open");$icon.addClass("folder");$subtree.hide()}else{$icon.removeClass("folder");$icon.addClass("folder-open");$subtree.show()}}}};MWT.extends(MWT.Tree,MWT.Event);MWT.Bar=function(e){this.listeners={};this.render=null;this.style=null;this.items=[];if(e){if(e.render)this.render=e.render;if(e.items)this.items=e.items;if(e.style)this.style=e.style}this.create=function(){var e=this.style?"style='"+this.style+"'":"";var t="<div class='mwt-bar' "+e+"><table><tr>";var i=false;for(var a=0;a<this.items.length;++a){var s=this.items[a];if(s=="->"){t+="<td width='100%'></td>";i=true;continue}if(s=="-"){if(!i)t+="<td width='100%'></td>";t+="</tr></table><hr><table><tr>";i=false;continue}if(isset(s.html)){t+="<td>"+s.html+"</td>";continue}var r=isset(this.items[a].type)?this.items[a].type:"button";switch(r){case"select":case"radiobtn":t+=this.renderSelect(s,a);break;case"search":t+=this.renderSearch(s,a);break;case"datepicker":t+=this.renderDatepicker(s,a);break;case"daterangepicker":t+=this.renderDaterangepicker(s,a);break;case"button":default:t+=this.renderButton(s,a);break}}if(!i)t+="<td width='100%'></td>";t+="</tr></table></div>";set_html(this.render,t);for(var a=0;a<this.items.length;++a){var r=isset(this.items[a].type)?this.items[a].type:"button";switch(r){case"select":t+=this.bundleSelect(this.items[a],a);break;case"radiobtn":t+=this.bundleRadiobtn(this.items[a],a);break;case"search":t+=this.bundleSearch(this.items[a],a);break;case"datepicker":this.bundleDatepicker(this.items[a],a);break;case"daterangepicker":this.bundleDaterangepicker(this.items[a],a);break;case"button":default:t+=this.bundleButton(this.items[a],a);break}}};this.genid=function(e,t){if(isset(e.id)&&e.id!="")return e.id;return this.render+"_item_"+t};this.renderSearch=function(e,t){var i=this.genid(e,t);var a=i+"btn";var s=isset(e.width)?e.width:200;var r=s-70;var n=isset(e.class)?e.class:"mwt-search-primary";var l=isset(e.label&&e.label!="")?e.label:"����";var o=isset(e.value)?e.value:"";var d=isset(e.placeholder)?e.placeholder:"";var h='<td><div class="mwt-search '+n+'" style="width:'+s+'px;">'+'<div class="text">'+'<input type="text" class="form-control" id="'+i+'" style="width:'+r+'px;" value="'+o+'" placeholder="'+d+'">'+"</div>"+'<button class="submit" id="'+a+'">'+l+"</button>"+"</div>";return h};this.bundleSearch=function(e,t){var i=this.genid(e,t);var a=i+"btn";if(isset(e.handler)){jQuery("#"+a).click(e.handler);jQuery("#"+i).change(e.handler)}};this.renderButton=function(e,t){var i="<td><button id='"+this.genid(e,t)+"'";if(isset(e.class))i+=' class="'+e.class+'"';else i+=' class="mwt-btn-primary"';if(isset(e.style))i+=' style="'+e.style+'"';i+=">"+e.label+"</button></td>";return i};this.bundleButton=function(e,t){var i=this.genid(e,t);if(isset(e.handler)){jQuery("#"+i).click(function(){e.handler()})}};this.renderSelect=function(e,t){var i="<td>";if(isset(e.label)&&e.label!=""){i+="<label";if(isset(e.width))i+=" style='width:"+e.width+"px;'";i+=">"+e.label+":&nbsp;</label></td><td style='padding-left:0;'>"}i+="<div id='"+this.genid(e,t)+"div'></div></td>";return i};this.bundleSelect=function(e,t){var i=new MWT.SelectField({render:this.genid(e,t)+"div",id:this.genid(e,t),options:e.options,value:e.value,cls:e.class,style:e.style});i.create();if(isset(e.handler)){i.on("change",e.handler)}};this.renderRadiobtn=function(e,t){var i="<td>";if(isset(e.label)&&e.label!=""){i+="<label";if(isset(e.width))i+=" style='width:"+e.width+"px;'";i+=">"+e.label+":&nbsp;</label></td><td style='padding-left:0;'>"}i+="<div id='"+this.genid(e,t)+"div'></div></td>";return i};this.bundleRadiobtn=function(e,t){var i=new MWT.RadiobtnField({render:this.genid(e,t)+"div",id:this.genid(e,t),options:e.options,value:e.value,"class":e.class,style:e.style});i.create();if(isset(e.handler)){i.on("change",e.handler)}};this.renderDatepicker=function(e,t){var i="<td>";if(isset(e.label)&&e.label!=""){i+="<label";if(isset(e.width))i+=" style='width:"+e.width+"px;'";i+=">"+e.label+":&nbsp;</label></td><td style='padding-left:0;'>"}i+="<div id='"+this.genid(e,t)+"div'></div></td>";return i};this.bundleDatepicker=function(e,t){var i=new MWT.DatePicker({render:this.genid(e,t)+"div",id:this.genid(e,t),format:e.format?e.format:"yy-mm-dd"});i.create();if(isset(e.handler)){i.on("change",e.handler)}};this.renderDaterangepicker=function(e,t){var i="<td>";if(isset(e.label)&&e.label!=""){i+="<label";if(isset(e.width))i+=" style='width:"+e.width+"px;'";i+=">"+e.label+":&nbsp;</label></td><td style='padding-left:0;'>"}i+="<div id='"+this.genid(e,t)+"div'></div></td>";return i};this.bundleDaterangepicker=function(e,t){var i=new MWT.DateRangePicker({render:this.genid(e,t)+"div",id:this.genid(e,t),"float":e.float?e.float:"right",format:e.format?e.format:"yy/mm/dd"});i.create();if(isset(e.handler)){i.on("change",e.handler)}}};MWT.extends(MWT.Bar,MWT.Event);MWT.Grid=function(e){this.listeners={};this.render=null;this.grid_div=null;this.grid_chkbox_id=null;this.grid_chkbox_name=null;this.page_div=null;this.store={};this._pagebar={};this.pagebar=true;this.pageSize=10;this.tbar=null;this.cm={};this.cls="mwt-table";this.bordered=false;this.multiSelect=false;var t=this;if(e){if(e.render)this.render=e.render;if(e.cm)this.cm=e.cm;if(e.cls)this.cls=e.cls;if(e.store){this.store=e.store;var t=this;this.store.on("load",function(e){t.display()})}if(isset(e.pagebar))this.pagebar=e.pagebar;if(isset(e.pageSize))this.pageSize=e.pageSize;if(isset(e.multiSelect))this.multiSelect=e.multiSelect;if(isset(e.tbar))this.tbar=e.tbar;if(e.bordered)this.bordered=true}this.create=function(){this.grid_div="grid_div_"+e.render;this.page_div="page_div_"+e.render;this.grid_chkbox_id=this.grid_div+"-chkbox-id";this.grid_chkbox_name=this.grid_div+"-chkbox";var t="<div class='mwt-grid'";if(this.tbar){t+="><div id='tbar_div_"+e.render+"'></div>"}else{t+=" style='border-top:solid 0px #ccc;'>"}var i=this.cm.getColumns();t+="<table class='tab";if(this.bordered)t+=" bordered";if(!this.pagebar)t+=" nobbar";t+="'>";t+="<thead><tr>";if(this.multiSelect)t+="<td style='width:20px;text-align:center;'>"+"<input id='"+this.grid_chkbox_id+"' type='checkbox' "+"onchange='set_checkbox_checked(\""+this.grid_chkbox_name+"\",this.checked);'/></td>";var a=i.length;for(var s=0;s<a;++s){if(i[s].hide){continue}var r="";if(i[s].width){r="width='"+i[s].width+"'"}var n=this.grid_div+"-"+i[s].dataIndex+"-"+s;t+="<td "+r+" id='"+n+"' name='"+this.grid_div+"-th' ";if(isset(i[s].align))t+="align='"+i[s].align+"' ";if(isset(i[s].valign))t+="valign='"+i[s].valign+"' ";if(isset(i[s].style))t+="style='"+i[s].style+"' ";if(i[s].sort)t+="class='grid-sort' ";t+="data-id='"+i[s].dataIndex+"'>"+i[s].head+"</td>"}t+="</tr></thead><tbody id='"+this.grid_div+"'></tbody></table>";if(this.pagebar)t+="<div id='"+this.page_div+"' style='background:#efefef;padding:5px;'></div>";t+="</div>";set_html(this.render,t);this.initevent();if(this.tbar){var l=new MWT.Bar({render:"tbar_div_"+e.render,items:this.tbar});l.create()}if(this.pagebar){this._pagebar=new MWT.Pagebar({store:this.store,render:this.page_div,pageSize:this.pageSize})}};this.getRecord=function(e,t){var i=this.store.indexOf(e,t);if(i<0||i>=this.store.size()){return null}return this.store.get(i)};this.load=function(e){if(isset(e))this.store.baseParams=e;if(this.pagebar)this._pagebar.changePage(1);else this.store.load()};this.display=function(){if(!this.render){return}if(!this.grid_div){this.create()}var e=this.cm.getColumns();var t=e.length;var i="";var a=this.store.size();for(var s=0;s<a;++s){var r=this.store.get(s);r.store_index=s;i+="<tr>";if(this.multiSelect)i+="<td align='center'><input name='"+this.grid_chkbox_name+"' value='"+s+"' type='checkbox'/></td>";for(var n=0;n<t;++n){if(e[n].hide){continue}var l=e[n].dataIndex;var o=r[l];if(e[n].render){var d=e[n].render;o=d(o,r)}i+="<td ";var h="";if(e[n].width){i+="width='"+e[n].width+"' "}if(isset(e[n].align))i+="align='"+e[n].align+"' ";if(isset(e[n].valign))i+="valign='"+e[n].valign+"' ";if(isset(e[n].style))i+="style='"+e[n].style+"' ";i+=">"+o+"</td>"}i+="</tr>"}jQuery("#"+this.grid_div).html(i)};this.getSelectedRecords=function(){var e=get_checkbox_values(this.grid_chkbox_name);var t=[];for(var i=0;i<e.length;++i){var a=this.store.get(e[i]);a.store_index=e[i];t.push(a)}return t};this.initevent=function(){var e=this.cm.getColumns();var i=e.length;for(var a=0;a<i;++a){if(!e[a].sort){continue}var s=this.grid_div+"-"+e[a].dataIndex+"-"+a;document.getElementById(s).onclick=function(){var e=this.getAttribute("data-id");var i=0;if(this.hasAttribute("data-sort"))i=this.getAttribute("data-sort");i=1-i;this.setAttribute("data-sort",i);var a=document.getElementsByName(t.grid_div+"-th");for(var s=0;s<a.length;++s){removeClass(a[s],"grid-sort-asc");removeClass(a[s],"grid-sort-desc")}addClass(this,i==1?"grid-sort-asc":"grid-sort-desc");var r=i==1?"ASC":"DESC";t.store.baseParams["sort"]=e;t.store.baseParams["dir"]=r;t.load()}}}};MWT.extends(MWT.Grid,MWT.Event);MWT.Grid.ColumnModel=function(e){this.columns=[];if(e){this.columns=e}this.getColumns=function(){return this.columns}};
